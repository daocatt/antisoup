# ğŸ¥£ Anti-Soup Battle (åé¸¡æ±¤è”ç›Ÿ)

![Status](https://img.shields.io/badge/Status-Active-success)
![React](https://img.shields.io/badge/React-19-blue)
![Tailwind CSS](https://img.shields.io/badge/Tailwind-CSS-38bdf8)
![Gemini AI](https://img.shields.io/badge/AI-Gemini_Flash-8e75b2)
![License](https://img.shields.io/badge/License-MIT-green)

> **ç°å®ä¸å¹»æƒ³çš„ç»ˆæPKèµ›ã€‚**  
> è¿™æ˜¯ä¸€ä¸ªä¸“æ³¨äºåå¯¹è™šå‡å¿ƒçµé¸¡æ±¤çš„ç¤¾åŒºã€‚åœ¨è¿™é‡Œï¼Œ"æ¯’é¸¡æ±¤"ï¼ˆç°å®ï¼‰ä¸"çƒ­é¸¡æ±¤"ï¼ˆå¹»æƒ³ï¼‰äº¤é”‹ï¼Œç”±ç”¨æˆ·æŠ•ç¥¨å†³å®šè°æ‰æ˜¯ç”Ÿæ´»çš„çœŸç†ã€‚

---

## âœ¨ æ ¸å¿ƒç‰¹æ€§ (Features)

### âš–ï¸ è§‚ç‚¹PK (Battle Arena)
- **å®æ—¶PK**: é¦–é¡µå±•ç¤ºæ­£åœ¨è¿›è¡Œçš„è§‚ç‚¹PKï¼Œçº¢è“é˜µè¥è§†è§‰å†²å‡»ã€‚
- **äº’åŠ¨åé¦ˆ**: æ”¯æŒç‚¹èµã€é¼“æŒã€éœ‡æƒŠç­‰å¤šç§è¡¨æƒ…æ€åŠ¿ï¼ŒæŠ•ç¥¨åå¯è§æ¯”ä¾‹ã€‚
- **è¯é¢˜ç³»ç»Ÿ**: æ”¯æŒè¯é¢˜åˆ†ç±»ï¼ˆå¦‚å·¥ä½œã€çˆ±æƒ…ã€å†…å·ï¼‰ï¼Œåå°å¯ç®¡ç†è¯é¢˜çŠ¶æ€ã€‚

### ğŸ¤– AI é¸¡æ±¤ç²‰ç¢æœº (AI Generator)
- **Gemini é©±åŠ¨**: é›†æˆ Google Gemini 2.5 Flash æ¨¡å‹ã€‚
- **æ™ºèƒ½ç”Ÿæˆ**: è¾“å…¥æˆ–é€‰æ‹©è¯é¢˜ï¼ŒAI è‡ªåŠ¨ç”Ÿæˆä¸€å¯¹"è™šä¼ªé¸¡æ±¤"ä¸"æ®‹é…·çœŸç›¸"ã€‚
- **ç¼–è¾‘ä¸å‘å¸ƒ**: ç”Ÿæˆçš„å†…å®¹æ”¯æŒç”¨æˆ·åœ¨å‘å¸ƒå‰äºŒæ¬¡ç¼–è¾‘ï¼ˆé™500å­—ï¼‰ï¼Œå‘å¸ƒåè‡ªåŠ¨è¿›å…¥å®¡æ ¸é˜Ÿåˆ—ã€‚
- **é™æµæœºåˆ¶**: æ™®é€šç”¨æˆ·æ¯æ—¥æœ‰é™é¢ï¼Œç®¡ç†å‘˜æ— é™åˆ¶ã€‚

### ğŸ›¡ï¸ å®Œå–„çš„åå°ç®¡ç† (Admin System)
- **RBAC æƒé™æ§åˆ¶**: 
    - **è¶…çº§ç®¡ç†å‘˜**: ç®¡ç†å‘˜æˆå‘˜ç®¡ç†ã€ç³»ç»Ÿå…¨å±€é…ç½®ï¼ˆæ¯æ—¥é™é¢ã€é‚®ä»¶æœåŠ¡ã€é»˜è®¤ä¸»é¢˜ï¼‰ã€‚
    - **å†…å®¹ç®¡ç†å‘˜**: å®¡æ ¸PKå†…å®¹ï¼ˆæ”¯æŒä¿®æ”¹æ–‡å­—ï¼‰ã€ç®¡ç†è¯„è®ºã€ç®¡ç†è¯é¢˜ã€‚
- **æ•°æ®ç®¡ç†**: æ”¯æŒå›æ”¶ç«™æœºåˆ¶ã€ç½®é¡¶æ¨èã€å¼ºåˆ¶ç»“æŸæŠ•ç¥¨ã€‚

### ğŸ¨ ç°ä»£åŒ– UI/UX
- **æ·±è‰²æ¨¡å¼**: æ”¯æŒæµ…è‰²/æ·±è‰²/è·Ÿéšç³»ç»Ÿè‡ªåŠ¨åˆ‡æ¢ã€‚
- **å“åº”å¼è®¾è®¡**: å®Œç¾é€‚é…ç§»åŠ¨ç«¯ä¸æ¡Œé¢ç«¯ã€‚
- **äº¤äº’ç»†èŠ‚**: ç²’å­æŠ•ç¥¨åŠ¨æ•ˆã€éª¨æ¶å±åŠ è½½ã€Toast æç¤ºã€‚

---

## ğŸ› ï¸ æŠ€æœ¯æ ˆ (Tech Stack)

- **Frontend**: React 19, TypeScript
- **Styling**: Tailwind CSS (PostCSS integration), Lucide React Icons
- **AI Integration**: Google GenAI SDK (`@google/genai`)
- **Database Strategy**: 
    - **Development**: In-Memory Mock Data (æ— æ•°æ®åº“ä¹Ÿå¯è¿è¡Œ)
    - **Production**: PostgreSQL (æ¨è Vercel Postgres)
- **Build Tool**: Parcel / Vite

---

## ğŸš€ å¿«é€Ÿå¼€å§‹ (Getting Started)

### 1. ç¯å¢ƒå‡†å¤‡

ç¡®ä¿æœ¬åœ°å·²å®‰è£… Node.js 18+ã€‚

```bash
git clone https://github.com/your-username/anti-soup-battle.git
cd anti-soup-battle
npm install
```

### 2. ç¯å¢ƒå˜é‡é…ç½®

åˆ›å»º `.env.local` æ–‡ä»¶å¹¶é…ç½®å¿…è¦çš„ç¯å¢ƒå˜é‡ï¼š

```env
# å¿…é€‰: Gemini API Key
API_KEY=your_gemini_api_key_here

# å¯é€‰: æ•°æ®åº“è¿æ¥ (ä¸å¡«åˆ™ä½¿ç”¨æ¨¡æ‹Ÿæ•°æ®æ¨¡å¼)
POSTGRES_URL=postgres://user:password@host:port/database
```

### 3. å¯åŠ¨å¼€å‘æœåŠ¡å™¨

```bash
npm run dev
```

è®¿é—® `http://localhost:3000` å¼€å§‹ä½“éªŒï¼

> ğŸ’¡ **æç¤º**: é¡¹ç›®æ”¯æŒ Mock æ•°æ®æ¨¡å¼ï¼Œæ— éœ€æ•°æ®åº“å³å¯è¿è¡Œã€‚å¦‚éœ€æŒä¹…åŒ–å­˜å‚¨ï¼Œè¯·å‚è€ƒéƒ¨ç½²æŒ‡å—ä¸­çš„æ•°æ®åº“é…ç½®æ­¥éª¤ã€‚

---

## ğŸ—„ï¸ æ•°æ®åº“é…ç½® (Database Setup)

é¡¹ç›®æ”¯æŒä¸¤ç§æ•°æ®å­˜å‚¨æ¨¡å¼ï¼š

### Mock æ•°æ®æ¨¡å¼ (é»˜è®¤)
- **æ— éœ€é…ç½®æ•°æ®åº“**
- æ•°æ®å­˜å‚¨åœ¨å†…å­˜ä¸­ï¼Œåˆ·æ–°é¡µé¢åé‡ç½®
- é€‚åˆå¿«é€Ÿä½“éªŒå’Œå¼€å‘æµ‹è¯•

### PostgreSQL æŒä¹…åŒ–æ¨¡å¼
é¡¹ç›®æä¾›äº†å®Œæ•´çš„æ•°æ®åº“åˆå§‹åŒ–å·¥å…·ï¼š

#### æœ¬åœ°å¼€å‘ç¯å¢ƒ
```bash
# 1. å¯¼å…¥è¡¨ç»“æ„
psql -d your_database_name -f docs/schema.sql

# 2. åˆ›å»ºç®¡ç†å‘˜è´¦å·
node docs/init_admin_email.js
```

#### Vercel ç”Ÿäº§ç¯å¢ƒ
1. åœ¨ Vercel Storage æ§åˆ¶å°çš„ Query é€‰é¡¹å¡ä¸­æ‰§è¡Œ `docs/schema.sql`
2. ä½¿ç”¨ SQL å‘½ä»¤æ‰‹åŠ¨åˆ›å»ºç®¡ç†å‘˜è´¦å·ï¼ˆè§éƒ¨ç½²æŒ‡å—ï¼‰

æ•°æ®åº“è¡¨ç»“æ„åŒ…å«ï¼šç”¨æˆ·ã€è¯é¢˜ã€PKå¯¹å†³ã€è¯„è®ºã€æŠ•ç¥¨ã€ååº”ç­‰å®Œæ•´åŠŸèƒ½æ”¯æŒã€‚

---

## ğŸ“¦ éƒ¨ç½²æŒ‡å— (Deployment)

### æœ¬åœ°å¼€å‘éƒ¨ç½²

#### 1. ç¯å¢ƒå‡†å¤‡
```bash
git clone https://github.com/your-username/anti-soup-battle.git
cd anti-soup-battle
npm install
```

#### 2. ç¯å¢ƒå˜é‡é…ç½®
åœ¨é¡¹ç›®æ ¹ç›®å½•åˆ›å»º `.env.local` æ–‡ä»¶ï¼š

```env
# å¿…é€‰é…ç½®
API_KEY=your_gemini_api_key_here

# å¯é€‰é…ç½®
POSTGRES_URL=postgres://user:password@host:port/database

# é‚®ä»¶æœåŠ¡é…ç½® (å¯é€‰ï¼Œç”¨äº Magic Link ç™»å½•)
EMAILJS_SERVICE_ID=your_emailjs_service_id
EMAILJS_TEMPLATE_ID=your_emailjs_template_id
EMAILJS_PUBLIC_KEY=your_emailjs_public_key

# æˆ–è€…ä½¿ç”¨ Mailgun (å¯é€‰)
MAILGUN_API_KEY=your_mailgun_api_key
MAILGUN_DOMAIN=your_mailgun_domain
```

#### 3. æ•°æ®åº“é…ç½® (å¯é€‰)
å¦‚æœè¦ä½¿ç”¨æ•°æ®åº“æŒä¹…åŒ–å­˜å‚¨ï¼š

1. **å¯¼å…¥è¡¨ç»“æ„**:
   ```bash
   psql -d your_database_name -f docs/schema.sql
   ```

2. **åˆ›å»ºç®¡ç†å‘˜è´¦å·**:
   ```bash
   node docs/init_admin_email.js
   ```

#### 4. å¯åŠ¨å¼€å‘æœåŠ¡å™¨
```bash
npm run dev
```

è®¿é—® `http://localhost:3000` å³å¯çœ‹åˆ°åº”ç”¨ã€‚

---

### Vercel ç”Ÿäº§éƒ¨ç½²

#### 1. ä»£ç éƒ¨ç½²
1. **Fork æœ¬ä»“åº“** åˆ°ä½ çš„ GitHub
2. **ç™»å½• Vercel** å¹¶ç‚¹å‡» "Add New Project"
3. é€‰æ‹©ä½ çš„ä»“åº“è¿›è¡Œå¯¼å…¥
4. **éƒ¨ç½²**: ç‚¹å‡» Deploy

#### 2. ç¯å¢ƒå˜é‡é…ç½®
åœ¨ Vercel Dashboard ä¸­é…ç½®ç¯å¢ƒå˜é‡ (Settings â†’ Environment Variables)ï¼š

**å¿…é€‰é…ç½®:**
- `API_KEY`: ä½ çš„ Gemini API Key (ä» https://aistudio.google.com/app/apikey è·å–)

**å¯é€‰é…ç½®:**
- `POSTGRES_URL`: Vercel Postgres è¿æ¥å­—ç¬¦ä¸² (åˆ›å»ºæ•°æ®åº“åè‡ªåŠ¨æ³¨å…¥)
- `EMAILJS_SERVICE_ID`: EmailJS æœåŠ¡ ID
- `EMAILJS_TEMPLATE_ID`: EmailJS æ¨¡æ¿ ID
- `EMAILJS_PUBLIC_KEY`: EmailJS å…¬é’¥
- `MAILGUN_API_KEY`: Mailgun API å¯†é’¥
- `MAILGUN_DOMAIN`: Mailgun åŸŸå

#### 3. æ•°æ®åº“åˆå§‹åŒ–
éƒ¨ç½²å®Œæˆååˆå§‹åŒ–æ•°æ®åº“ï¼š

1. **å¯¼å…¥è¡¨ç»“æ„**:
   - è¿›å…¥ Vercel Storage æ§åˆ¶å° â†’ Postgres â†’ Data â†’ Query
   - ç²˜è´´ `docs/schema.sql` çš„å†…å®¹å¹¶æ‰§è¡Œ

2. **åˆ›å»ºç®¡ç†å‘˜è´¦å·**:
   åœ¨ Query ä¸­æ‰§è¡Œä»¥ä¸‹ SQL (æ›¿æ¢ä¸ºä½ çš„é‚®ç®±):
   ```sql
   INSERT INTO users (id, name, email, avatar, provider, role, created_at)
   VALUES ('u_admin_main', 'ç³»ç»Ÿç®¡ç†å‘˜', 'your-email@example.com', 'https://ui-avatars.com/api/?name=Admin&background=blue', 'system', 'super_admin', CURRENT_TIMESTAMP)
   ON CONFLICT (email) DO UPDATE SET
       role = 'super_admin',
       updated_at = CURRENT_TIMESTAMP;
   ```

#### 4. è®¿é—®åº”ç”¨
éƒ¨ç½²å®Œæˆåå³å¯é€šè¿‡ Vercel æä¾›çš„åŸŸåè®¿é—®åº”ç”¨ã€‚

---

## ğŸ“‚ ç›®å½•ç»“æ„ (Project Structure)

```
.
â”œâ”€â”€ components/        # React UI ç»„ä»¶
â”‚   â”œâ”€â”€ HeroBattle.tsx     # æ ¸å¿ƒPKå¡ç‰‡
â”‚   â”œâ”€â”€ Generator.tsx      # AI ç”Ÿæˆå™¨
â”‚   â”œâ”€â”€ AdminPanel.tsx     # åå°ç®¡ç†é¢æ¿
â”‚   â””â”€â”€ ...
â”œâ”€â”€ services/          # ä¸šåŠ¡é€»è¾‘æœåŠ¡
â”‚   â”œâ”€â”€ geminiService.ts   # AI æ¥å£å°è£…
â”‚   â”œâ”€â”€ dataProvider.ts    # æ•°æ®å±‚ (é€‚é… API/Mock)
â”‚   â””â”€â”€ mockDb.ts          # æœ¬åœ°æ¨¡æ‹Ÿæ•°æ®
â”œâ”€â”€ docs/              # æ–‡æ¡£ä¸æ•°æ®åº“è„šæœ¬
â”‚   â”œâ”€â”€ schema.sql         # æ•°æ®åº“è¡¨ç»“æ„
â”‚   â””â”€â”€ init_admin.js      # ç®¡ç†å‘˜åˆå§‹åŒ–è„šæœ¬
â”œâ”€â”€ types.ts           # TypeScript ç±»å‹å®šä¹‰
â””â”€â”€ App.tsx            # åº”ç”¨ä¸»å…¥å£
```

## ğŸ¤ è´¡çŒ® (Contributing)

æ¬¢è¿æäº¤ Issue æˆ– Pull Request æ¥ä¸°å¯Œè¿™ä¸ªåé¸¡æ±¤çš„ä¸–ç•Œï¼

1. Fork æœ¬ä»“åº“
2. åˆ›å»ºç‰¹æ€§åˆ†æ”¯ (`git checkout -b feature/AmazingFeature`)
3. æäº¤æ›´æ”¹ (`git commit -m 'Add some AmazingFeature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/AmazingFeature`)
5. æäº¤ Pull Request

## ğŸ“„ è®¸å¯è¯ (License)

Distributed under the MIT License. See [LICENSE](LICENSE) for more information.